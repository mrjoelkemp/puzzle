((function(){var a;a=function(){function a(){var a,b,c,d,e,f,g,h,i,j;a=$("#back-canvas");f=$("#pieces-canvas");h=2;d=3;i=1;c=this.initBoard(h,d,i);e=this.initPieces(h,d,a,i);g=$("#player");j=$("#player")[0];j.muted=!0;b=a[0].getContext("2d");this.play(j,b)}a.prototype.initPieces=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r;q=[];l=d;p=c.width()/b;o=c.height()/a;f=c.position().top;e=c.position().left;i=0;g=0;m=a*b;for(k=1;1<=m?k<=m:k>=m;1<=m?k++:k--){j=f+o*i;h=e+p*g;n=this.createPiece(l,p,o,j,h);l++;n.appendTo("#pieces-canvas");q.push(n);r=k%(b+1)===0;if(r){i++;g=0}else g++}return q};a.prototype.createPiece=function(a,b,c,d,e){var f;f=$("<canvas></canvas>").clone();f.attr({id:a,width:b,height:c,top:d,left:e});return f};a.prototype.initBoard=function(a,b,c){var d,e,f,g,h,i;d=[];g=c;for(e=0,h=a-1;0<=h?e<=h:e>=h;0<=h?e++:e--){d[e]=[];for(f=0,i=b-1;0<=i?f<=i:f>=i;0<=i?f++:f--){d[e].push(g);g++}}return d};a.prototype.play=function(a,b){var c=this;return setInterval(function(){a.play();return b.drawImage(a,0,0)},33)};return a}();$(function(){return window.jigsaw=new a})})).call(this);