((function(){var a;a=function(){function a(){var a,b,c,d,e,f,g,h,i,j;a=$("#back-canvas");f=$("#pieces-canvas");h=2;d=3;i=1;c=this.initBoard(h,d,i);e=this.initPieces(h,d,a,i);g=$("#player");j=$("#player")[0];j.muted=!0;b=a[0].getContext("2d");this.play(j,b)}a.prototype.initPieces=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;m=[];h=d;l=c.width()/b;k=c.height()/a;i=a*b;for(g=1;1<=i?g<=i:g>=i;1<=i?g++:g--){f=0;e=0;j=$("<canvas></canvas>").clone();j.attr({id:h,width:l,height:k,top:c.position().top,left:c.position().left});h++;j.appendTo("#pieces-canvas");m.push(j)}return m};a.prototype.initBoard=function(a,b,c){var d,e,f,g,h,i;d=[];g=c;for(e=0,h=a-1;0<=h?e<=h:e>=h;0<=h?e++:e--){d[e]=[];for(f=0,i=b-1;0<=i?f<=i:f>=i;0<=i?f++:f--){d[e].push(g);g++}}return d};a.prototype.play=function(a,b){var c=this;return setInterval(function(){a.play();return b.drawImage(a,0,0)},33)};return a}();$(function(){return window.jigsaw=new a})})).call(this);